\documentclass[a4paper, 12pt, addpoints]{exam}

\input{macro}

% exam params
\newcommand{\startH}{13}
\newcommand{\startM}{15}
\newcommand{\examDate}{April 4, 2025}

\title{CS 320 \\ Computer Language Processing \\ Midterm}
\date{\examDate}
\author{}

\ifdefined\ANSWERS
    \if\ANSWERS1
        \printanswers
    \fi
\fi

% default params for testing
\ifundef{\theName}{
    \newcommand{\theName}{Ada Lovelace}
    \PackageWarning{exam}{Using default name: \theName}
}{}

\ifundef{\theSciper}{
    \newcommand{\theSciper}{111111}
    \PackageWarning{exam}{Using default sciper: \theSciper}
}{}

\ifundef{\theRoom}{
    \newcommand{\theRoom}{INM 200}
    \PackageWarning{exam}{Using default room: \theRoom}
}{}

\ifundef{\theSeat}{
    \newcommand{\theSeat}{314}
    \PackageWarning{exam}{Using default seat no: \theSeat}
}{}

\ifundef{\theTime}{
    \newcommand{\theTime}{150}
    \PackageWarning{exam}{Using default time: \theTime minutes}
}{}

% headers and footers
\runningheadrule
\lhead{CS 320}
\chead{\qrcode[height=13mm]{\{SCIPER: "\theSciper", PAGE: \thepage\}} \vspace{0.1em}}
\rhead{\examDate}

\footrule
\firstpagefooter{}{Page \thepage\ of \numpages}{}
\lfoot{}
\cfoot[]{Page \thepage\ of \numpages}
\rfoot{}

\setrandomizerseed{\theSciper}
\boxedpoints

\begin{document}

\maketitle

{
    \Large
    \begin{tabularx}{\textwidth}{l p{0.5\textwidth} l p{0.5\textwidth}}
        Name: & \theName & Room: & \theRoom \\
        Sciper: & \theSciper & Seat: & \theSeat \\
    \end{tabularx}
}
% instructions
{
    \begin{enumerate}
        \item The exam starts at \formatTime{\startH}{\startM} and ends at
        \addTime{\startH}{\startM}{\theTime}. You have \textbf{\theTime\xspace
        minutes} to complete the exam.
        \item Place your CAMIPRO card on your desk.
        \item Put all electronic devices in a bag away from the bench.
        \item Write your final answers using a permanent pen (no pencils, no
        erasable pens).
        % \item You may not carry additional material with you during the exam.
        \item This exam is \numpages~pages long, including this cover page.
        Check that you have all the pages. 
        \item The exercises are not ordered by how difficult they may be. If you
        are stuck on an exercise, you can skip it and come back to it later.
        \item Answer all questions in the provided space. Do not submit
        additional sheets. Do not unstaple the given sheets. Material in the
        scratch area will not be graded.
        \item Any multiple-choice questions have a \textbf{single correct
        answer}. Clearly circle the letter corresponding to your choice on the
        page itself.
        \item The maximum number of points on the exam is \textbf{\numpoints}.
    \end{enumerate}
}

\begin{center}
    \gradetable[h][questions]
\end{center}

\pagebreak

\newcommand{\emptyPage}{
    \vspace*{\fill}
    \begin{center}
        \emph{Page intentionally left blank.}
    \end{center}
    \vspace*{\fill}
    \pagebreak
}

\emptyPage

\begin{questions}
%   From mattermost:
%     Questions:
%   * non-nested comments to tokenize
        % just small language with strings, comments
%   * proofs with inductive relations about grammars
        % grammar equivalence
        % let L be a cfl, S' = S'S | \epsilon, then L(S') = L(S)*
        % open
%   * remove ambiguity from a grammar and make it LL(1)
        % match cases with only constructors and variables
        % open
%   * constructing LL(1) table for the previous one
        % somewhat open
%   * convert a regular expression to a grammar
        % one regular expression to a grammar
%   * type checking: pi types in Amy
        % give them the rules, ask them to evaluate via type checking 
        % and inference
        % partly mcq

    \pagebreak
    \input{questions/regex-grammar}
    \pagebreak
    \input{questions/comments}
    \pagebreak
    \input{questions/inductive-grammars}
    \pagebreak
    \input{questions/grammar-transformation}
    \pagebreak
    \input{questions/ll1-table}
    \pagebreak
    \input{questions/type-checking}

\end{questions}

\newcommand{\scratchPage}{
    \pagebreak

    \begin{center}
        \emph{Scratch area}
    \end{center}
    \vspace*{\fill}

}

\scratchPage

\begin{center}
    \emph{End}
\end{center}

\end{document}

